databaseChangeLog:
  - changeSet:
      id: 002_create_constraints
      author: Aleksandr Vasilyev
      changes:
        - addForeignKeyConstraint:
            baseTableName: users
            baseColumnNames: account_type
            constraintName: fk_account_type_id
            referencedTableName: account_types
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: category
            baseColumnNames: category_id
            constraintName: fk_category_category_id
            referencedTableName: category
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: vacancies
            baseColumnNames: category_id
            constraintName: fk_vacancies_category_id
            referencedTableName: category
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: vacancies
            baseColumnNames: author_id
            constraintName: fk_vacancies_author_id
            referencedTableName: users
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: contacts
            baseColumnNames: type_id
            constraintName: fk_contacts_info_type_id
            referencedTableName: contact_types
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: contacts
            baseColumnNames: resume_id
            constraintName: fk_contacts_info_resume_id
            referencedTableName: resumes
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: resumes
            baseColumnNames: applicant_id
            constraintName: fk_resumes_applicant_id
            referencedTableName: users
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: resumes
            baseColumnNames: category_id
            constraintName: fk_resumes_category_id
            referencedTableName: category
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: responded_applicants
            baseColumnNames: resume_id
            constraintName: fk_responded_applicants_resume_id
            referencedTableName: resumes
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: responded_applicants
            baseColumnNames: vacancy_id
            constraintName: fk_responded_applicants_vacancy_id
            referencedTableName: vacancies
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: educations
            baseColumnNames: resume_id
            constraintName: fk_education_info_resume_id
            referencedTableName: resumes
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: work_experience_info
            baseColumnNames: resume_id
            constraintName: fk_work_experience_info_resume_id
            referencedTableName: resumes
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict

        - addForeignKeyConstraint:
            baseTableName: messages
            baseColumnNames: responded_applicant_id
            constraintName: fk_messages_responded_applicants
            referencedTableName: responded_applicants
            referencedColumnNames: id
            onDelete: cascade
            onUpdate: restrict